<template>
Â  <div class="flex-1 p-6 overflow-y-auto custom-scrollbar">
Â  Â Â 
Â  Â  <div class="flex items-center justify-between mb-6">
Â  Â  Â  Â <h2 class="text-2xl font-bold flex items-center gap-2 transition-colors"
Â  Â  Â  Â  Â  Â :class="store.isNightMode ? 'text-gray-100' : 'text-gray-800'">
Â  Â  Â  Â  Â <span class="text-3xl">ðŸ›’</span> Seeds Shop
Â  Â  Â  Â </h2>
Â  Â  Â  Â 
Â  Â  Â  Â <div class="px-4 py-2 rounded-full font-mono font-bold text-lg border transition-all"
Â  Â  Â  Â  Â  Â  :class="store.isNightModeÂ 
Â  Â  Â  Â  Â  Â  Â  ? 'bg-yellow-900/30 text-yellow-400 border-yellow-700/50'Â 
Â  Â  Â  Â  Â  Â  Â  : 'bg-yellow-100 text-yellow-700 border-yellow-300 shadow-sm'">
Â  Â  Â  Â  Â  ðŸ’° {{ store.coins }}
Â  Â  Â  Â </div>
Â  Â  </div>

Â  Â  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
Â  Â  Â  <div v-for="tree in store.TREE_TYPES" :key="tree.id"Â 
Â  Â  Â  Â  Â  Â class="relative border-2 rounded-lg p-5 flex flex-col items-center text-center transition-all duration-300 group backdrop-blur-sm"
Â  Â  Â  Â  Â  Â :class="[
Â  Â  Â  Â  Â  Â  Â // å¡ç‰‡èƒŒæ™¯ä¸Žè¾¹æ¡†é€‚é…
Â  Â  Â  Â  Â  Â  Â store.isNightModeÂ 
Â  Â  Â  Â  Â  Â  Â  Â ? 'bg-[#1a1a1a]/80 border-gray-700 hover:border-gray-500'Â 
Â  Â  Â  Â  Â  Â  Â  Â : 'bg-white/60 border-white/60 shadow-sm hover:shadow-md hover:-translate-y-1 hover:bg-white/80',
Â  Â  Â  Â  Â  Â  Â // å·²æ‹¥æœ‰çŠ¶æ€çš„ç‰¹æ®Šæ ·å¼
Â  Â  Â  Â  Â  Â  Â isOwned(tree) ? 'opacity-70 grayscale-[0.3]' : ''
Â  Â  Â  Â  Â  Â ]"
Â  Â  Â  >
Â  Â  Â  Â  Â  <div class="text-5xl mb-4 transform group-hover:scale-110 transition-transform filter drop-shadow-sm">{{ tree.icon }}</div>
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  <h3 class="text-xl font-bold mb-1"
Â  Â  Â  Â  Â  Â  Â  :class="store.isNightMode ? 'text-gray-100' : 'text-gray-900'">
Â  Â  Â  Â  Â  Â  Â  {{ tree.name }}
Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  <p class="text-xs mb-4 h-8 flex items-center justify-center px-2"
Â  Â  Â  Â  Â  Â  Â :class="store.isNightMode ? 'text-gray-400' : 'text-gray-500'">
Â  Â  Â  Â  Â  Â  Â {{ tree.desc }}
Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  <div class="w-full space-y-2 mb-4 text-xs font-bold">
Â  Â  Â  Â  Â  Â  Â <div class="flex justify-between items-center px-2 py-1 rounded"
Â  Â  Â  Â  Â  Â  Â  Â  Â  :class="store.isNightMode ? 'bg-black/20' : 'bg-gray-100'">
Â  Â  Â  Â  Â  Â  Â  Â  <span :class="store.isNightMode ? 'text-gray-500' : 'text-gray-400'">XP/H</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-blue-500">+{{ tree.xp }}</span>
Â  Â  Â  Â  Â  Â  Â </div>
Â  Â  Â  Â  Â  Â  Â <div class="flex justify-between items-center px-2 py-1 rounded"
Â  Â  Â  Â  Â  Â  Â  Â  Â  :class="store.isNightMode ? 'bg-black/20' : 'bg-gray-100'">
Â  Â  Â  Â  Â  Â  Â  Â  <span :class="store.isNightMode ? 'text-gray-500' : 'text-gray-400'">GROW</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span :class="store.isNightMode ? 'text-gray-300' : 'text-gray-600'">{{ tree.time / 60 }}m</span>
Â  Â  Â  Â  Â  Â  Â </div>
Â  Â  Â  Â  Â  Â  Â <div class="flex justify-between items-center px-2 py-1 rounded"
Â  Â  Â  Â  Â  Â  Â  Â  Â  :class="store.isNightMode ? 'bg-black/20' : 'bg-gray-100'">
Â  Â  Â  Â  Â  Â  Â  Â  <span :class="store.isNightMode ? 'text-gray-500' : 'text-gray-400'">REQ</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span :class="store.globalLevel >= tree.levelReq ? 'text-green-500' : 'text-red-500'">Lv. {{ tree.levelReq }}</span>
Â  Â  Â  Â  Â  Â  Â </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  Â @click="store.buyTree(tree)"
Â  Â  Â  Â  Â  Â  Â :disabled="isOwned(tree) || store.coins < tree.price || store.globalLevel < tree.levelReq"
Â  Â  Â  Â  Â  Â  Â class="w-full py-2 rounded font-bold text-sm uppercase tracking-wider transition-all"
Â  Â  Â  Â  Â  Â  Â :class="getBtnClass(tree)"
Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â <span v-if="isOwned(tree)">Owned</span>
Â  Â  Â  Â  Â  Â  Â <span v-else-if="store.globalLevel < tree.levelReq">Locked (Lv.{{tree.levelReq}})</span>
Â  Â  Â  Â  Â  Â  Â <span v-else>Buy ({{ tree.price }})</span>
Â  Â  Â  Â  Â  </button>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</template>

<script setup>
import { useGameStore } from '@/stores/gameStore'
const store = useGameStore()

const isOwned = (tree) => store.unlockedTreeIds.includes(tree.id)

const getBtnClass = (tree) => {
Â  Â  if (isOwned(tree)) {
Â  Â  Â  Â  return store.isNightModeÂ 
Â  Â  Â  Â  Â  Â  ? 'bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700'Â 
Â  Â  Â  Â  Â  Â  : 'bg-gray-200 text-gray-400 cursor-not-allowed border border-gray-300'
Â  Â  }
Â  Â  if (store.globalLevel < tree.levelReq) {
Â  Â  Â  Â  return store.isNightMode
Â  Â  Â  Â  Â  Â  ? 'bg-red-900/20 text-red-700 cursor-not-allowed border border-red-900/30'
Â  Â  Â  Â  Â  Â  : 'bg-red-50 text-red-300 cursor-not-allowed border border-red-100'
Â  Â  }
Â  Â  if (store.coins < tree.price) {
Â  Â  Â  Â  return store.isNightMode
Â  Â  Â  Â  Â  Â  ? 'bg-gray-700 text-gray-500 cursor-not-allowed'
Â  Â  Â  Â  Â  Â  : 'bg-gray-200 text-gray-400 cursor-not-allowed'
Â  Â  }
Â  Â  // å¯è´­ä¹°çŠ¶æ€
Â  Â  return store.isNightMode
Â  Â  Â  Â  ? 'bg-green-700 hover:bg-green-600 text-white shadow-lg shadow-green-900/50'
Â  Â  Â  Â  : 'bg-green-500 hover:bg-green-400 text-white shadow-lg shadow-green-200'
}
</script>